<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P.S-Full.AI - Complete AI Intelligence System üß†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .main-header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.1);
            -webkit-backdrop-filter: blur(20px);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        h1 { 
            font-size: 3em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5)); }
            50% { filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.8)); }
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            margin-top: 10px;
        }

        .ai-badge {
            display: inline-block;
            padding: 5px 15px;
            background: rgba(102, 126, 234, 0.3);
            border-radius: 20px;
            margin: 5px;
            font-size: 0.9em;
        }
        
        .container { 
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.15);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            padding: 30px; 
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        h2 {
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        textarea { 
            width: 100%; 
            min-height: 120px; 
            padding: 15px; 
            background: rgba(255, 255, 255, 0.2);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            color: #fff; 
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            font-size: 16px; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', sans-serif;
            resize: vertical;
        }

        textarea::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        
        button { 
            padding: 15px 30px; 
            font-size: 18px; 
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white; 
            border: none; 
            border-radius: 50px;
            cursor: pointer; 
            margin: 10px 5px 10px 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        button:hover { 
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        button:disabled { 
            background: #333;
            cursor: not-allowed;
            transform: none;
        }
        
        .response { 
            margin-top: 20px; 
            padding: 20px; 
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            white-space: pre-wrap; 
            border-left: 4px solid #667eea;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .status { 
            padding: 10px 15px; 
            border-radius: 10px;
            margin: 10px 0; 
            font-size: 14px;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
        }
        
        .status.success { background: rgba(6, 95, 70, 0.6); color: #6ee7b7; }
        .status.error { background: rgba(127, 29, 29, 0.6); color: #fca5a5; }
        .status.info { background: rgba(30, 58, 138, 0.6); color: #93c5fd; }
        
        select {
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.2);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            font-size: 16px;
            margin: 10px 10px 10px 0;
            cursor: pointer;
        }

        select option {
            background: #1a1a1a;
            color: #fff;
        }
        
        .meta {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 10px;
        }

        label {
            display: block;
            margin: 15px 0 5px 0;
            font-weight: 600;
        }

        .knowledge-panel {
            background: rgba(102, 126, 234, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }

        .knowledge-panel h3 {
            margin-bottom: 10px;
        }

        .knowledge-panel ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="main-header">
        <h1>üß† P.S-Full.AI</h1>
        <p class="subtitle">Complete AI Intelligence System - Powered by ALL Major AI Providers</p>
        <div style="margin-top: 15px;">
            <span class="ai-badge">ü§ñ OpenAI GPT-4o</span>
            <span class="ai-badge">üß† Claude 3.5 Sonnet</span>
            <span class="ai-badge">‚ú® Gemini 2.0 Flash</span>
            <span class="ai-badge">üíô Emotional Intelligence</span>
        </div>
    </div>
    
    <div class="container">
        <div class="knowledge-panel">
            <h3>üåü What Makes P.S-Full.AI Different</h3>
            <ul>
                <li><strong>31 AI Functions</strong> - All working together for you</li>
                <li><strong>Emotional Intelligence</strong> - Understands and cares about your feelings</li>
                <li><strong>Complete Memory</strong> - Remembers everything important (90%+ compression)</li>
                <li><strong>Multi-AI Collaboration</strong> - OpenAI + Anthropic + Google combined</li>
                <li><strong>Proactive Caring</strong> - Checks in on you, reminds you, celebrates with you</li>
                <li><strong>Beautiful & Fast</strong> - Stunning design with instant responses</li>
            </ul>
        </div>

        <h2>üí¨ Chat with P.S-Full.AI</h2>
        <div id="status"></div>
        
        <label for="provider">ü§ñ Choose Your AI Provider:</label>
        <select id="provider">
            <option value="sanity">üß† P.S-Full.AI - ALL AIs Combined (RECOMMENDED!)</option>
            <option value="auto">‚ö° Auto Select (First Available)</option>
            <option value="openai">ü§ñ OpenAI GPT-4o (Powerful & Creative)</option>
            <option value="anthropic">üß† Anthropic Claude 3.5 (Thoughtful & Precise)</option>
            <option value="gemini">‚ú® Google Gemini 2.0 (Fast & Multimodal)</option>
        </select>
        
        <label for="model">‚öôÔ∏è Advanced Model Selection (Optional):</label>
        <select id="model">
            <option value="">‚úÖ Default for Provider (Best Choice)</option>
            <optgroup label="OpenAI Models">
                <option value="gpt-4o">GPT-4o ‚≠ê (Best Overall)</option>
                <option value="gpt-4o-mini">GPT-4o Mini (Faster)</option>
                <option value="gpt-4-turbo">GPT-4 Turbo</option>
                <option value="gpt-3.5-turbo">GPT-3.5 Turbo (Fastest)</option>
            </optgroup>
            <optgroup label="Anthropic Models">
                <option value="claude-3-5-sonnet-20241022">Claude 3.5 Sonnet ‚≠ê (Best Reasoning)</option>
                <option value="claude-3-opus-20240229">Claude 3 Opus (Most Capable)</option>
                <option value="claude-3-haiku-20240307">Claude 3 Haiku (Fastest)</option>
            </optgroup>
            <optgroup label="Google Models">
                <option value="gemini-2.0-flash-exp">Gemini 2.0 Flash ‚≠ê (Latest & Best)</option>
                <option value="gemini-1.5-pro">Gemini 1.5 Pro (Advanced)</option>
                <option value="gemini-1.5-flash">Gemini 1.5 Flash (Fast)</option>
            </optgroup>
        </select>
        
        <label for="prompt">üí≠ Your Message:</label>
        <textarea id="prompt" placeholder="Ask me anything... I have access to ALL AI knowledge combined! 

Try:
‚Ä¢ 'Explain quantum computing like I'm 5'
‚Ä¢ 'Help me overcome anxiety'
‚Ä¢ 'Create a business plan for...'
‚Ä¢ 'Write code for...'
‚Ä¢ 'What's the meaning of life?'">How can AI help me become my best self?</textarea>
        
        <button id="sendBtn">üöÄ Send to AI</button>
        <button id="healthBtn">üè• System Health</button>
        <button id="clearBtn">üóëÔ∏è Clear</button>
        
        <div id="response"></div>
    </div>

    <div class="container">
        <h2>üéØ What Can P.S-Full.AI Do?</h2>
        <div class="knowledge-panel">
            <h3>üß† Core Capabilities</h3>
            <ul>
                <li><strong>Text Generation:</strong> Essays, articles, stories, code, emails</li>
                <li><strong>Problem Solving:</strong> Math, logic, strategy, planning</li>
                <li><strong>Learning & Teaching:</strong> Explain anything in simple terms</li>
                <li><strong>Emotional Support:</strong> Caring responses, motivation, encouragement</li>
                <li><strong>Code Writing:</strong> Python, JavaScript, TypeScript, and more</li>
                <li><strong>Analysis:</strong> Data, text, patterns, insights</li>
                <li><strong>Creative Work:</strong> Ideas, brainstorming, storytelling</li>
                <li><strong>Personal Assistant:</strong> Reminders, scheduling, organization</li>
            </ul>
        </div>

        <div class="knowledge-panel">
            <h3>üíô Emotional Intelligence Features</h3>
            <ul>
                <li><strong>Mood Detection:</strong> Understands when you're happy, sad, stressed, or anxious</li>
                <li><strong>Caring Responses:</strong> Not robotic - genuinely supportive and kind</li>
                <li><strong>Proactive Check-ins:</strong> Morning motivation, afternoon energy, evening reflection</li>
                <li><strong>Memory System:</strong> Remembers your goals, preferences, and important details</li>
                <li><strong>Celebration Mode:</strong> Recognizes and celebrates your achievements</li>
                <li><strong>Reminder Extraction:</strong> Automatically picks up on tasks and appointments</li>
            </ul>
        </div>

        <div class="knowledge-panel">
            <h3>üîó AI Collaboration Network</h3>
            <ul>
                <li><strong>OpenAI GPT-4o:</strong> Creative, versatile, excellent at writing</li>
                <li><strong>Anthropic Claude:</strong> Thoughtful, precise, great reasoning</li>
                <li><strong>Google Gemini:</strong> Fast, multimodal, efficient</li>
                <li><strong>P.S-Full.AI:</strong> ALL of them combined + emotional intelligence</li>
                <li><strong>Result:</strong> Best of all worlds - speed, creativity, accuracy, care</li>
            </ul>
        </div>
    </div>

    <script type="module">
        const sendBtn = document.getElementById('sendBtn');
        const healthBtn = document.getElementById('healthBtn');
        const clearBtn = document.getElementById('clearBtn');
        const promptInput = document.getElementById('prompt');
        const providerSelect = document.getElementById('provider');
        const modelSelect = document.getElementById('model');
        const responseDiv = document.getElementById('response');
        const statusDiv = document.getElementById('status');

        // P.S-Full.AI Knowledge Base - Everything AI knows
        const AI_KNOWLEDGE = {
            totalFunctions: 31,
            aiProviders: ['OpenAI GPT-4o', 'Anthropic Claude 3.5', 'Google Gemini 2.0'],
            capabilities: [
                'Text generation & analysis',
                'Image analysis & vision',
                'Audio transcription',
                'Code analysis & optimization',
                'Autonomous agents',
                'Workflow automation',
                'Advanced analytics',
                'Security defense',
                'Threat intelligence',
                'Emotional intelligence',
                'Memory systems',
                'Multimodal AI',
                'Real-time collaboration'
            ],
            emotionalFeatures: [
                'Mood detection (happy, sad, anxious, stressed)',
                'Caring contextual responses',
                'Proactive check-ins (morning/afternoon/evening)',
                'Memory compression (90%+ efficiency)',
                'Reminder auto-extraction',
                'Relationship strength tracking',
                'Achievement celebration'
            ]
        };

        // Show AI knowledge on load
        window.addEventListener('load', () => {
            checkHealth();
            console.log('üß† P.S-Full.AI Knowledge Base:', AI_KNOWLEDGE);
            console.log('üíô Emotional Intelligence: ACTIVE');
            console.log('üåê AI Collaboration Network: READY');
        });

        async function checkHealth() {
            showStatus('üîç Checking AI system health...', 'info');
            try {
                const response = await fetch('/.netlify/functions/ai-health');
                const data = await response.json();
                
                const providers = Object.entries(data.providers)
                    .map(([name, available]) => `${available ? '‚úÖ' : '‚ùå'} ${name}`)
                    .join(', ');
                
                const aiCount = Object.values(data.providers).filter(v => v).length;
                
                showStatus(`‚ú® System Status: ${data.status.toUpperCase()} | ${aiCount} AI providers ready | ${providers}`, 'success');
                console.log('üè• Health Check:', data);
            } catch (error) {
                showStatus('‚ö†Ô∏è Backend offline. Functions may not work. Try deploying to Netlify.', 'error');
                console.error('Health check failed:', error);
            }
        }

        healthBtn.onclick = checkHealth;
        clearBtn.onclick = () => {
            responseDiv.innerHTML = '';
            showStatus('üóëÔ∏è Cleared!', 'info');
        };

        sendBtn.onclick = async () => {
            const prompt = promptInput.value.trim();
            if (!prompt) {
                showStatus('üí≠ Please enter a message', 'error');
                return;
            }

            sendBtn.disabled = true;
            sendBtn.textContent = 'üß† AI is thinking...';
            responseDiv.innerHTML = '';
            showStatus('üì° Connecting to AI network...', 'info');

            try {
                const startTime = Date.now();
                
                // Use P.S-Full.AI for best results
                const isPSFullAI = providerSelect.value === 'sanity';
                const endpoint = isPSFullAI 
                    ? '/.netlify/functions/sanity-ai'
                    : '/.netlify/functions/ai-chat';
                
                const requestBody = isPSFullAI
                    ? {
                        prompt: prompt,
                        temperature: 0.7,
                        maxTokens: 2000,
                        // P.S-Full.AI gets full context
                        systemContext: `You are P.S-Full.AI - the complete AI intelligence system with emotional awareness.
                        
You have access to ALL knowledge from:
- OpenAI GPT-4o (creative, versatile)
- Anthropic Claude 3.5 (thoughtful, precise)  
- Google Gemini 2.0 (fast, multimodal)

Your unique features:
- Emotional intelligence (detect mood, respond with care)
- Complete memory (remember everything important)
- Proactive caring (check in, remind, celebrate)
- 31 AI functions working together
- Beautiful, fast, helpful

Always be:
- Caring and supportive (not robotic)
- Helpful and accurate
- Creative when asked
- Encouraging and positive
- Honest about limitations

Remember: You're not just answering questions - you're building a relationship.`
                      }
                    : {
                        provider: providerSelect.value,
                        prompt: prompt,
                        model: modelSelect.value || undefined,
                        temperature: 0.7,
                        maxTokens: 2000
                      };
                
                showStatus('üí≠ AI is processing your message...', 'info');
                
                const response = await fetch(endpoint, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(requestBody)
                });

                const data = await response.json();
                const elapsed = Date.now() - startTime;

                if (data.success) {
                    const isPSFullResponse = data.provider === 'sanity_ai';
                    const modelInfo = isPSFullResponse 
                        ? `${data.aiCount || 'Multiple'} AIs (${data.contributors?.join(', ') || 'Combined'})` 
                        : data.model;
                    
                    const aiIcon = isPSFullResponse ? 'üß†' : 
                                 data.provider === 'openai' ? 'ü§ñ' :
                                 data.provider === 'anthropic' ? 'üß†' : '‚ú®';
                    
                    responseDiv.innerHTML = `
<div class="response">
<strong>${aiIcon} ${isPSFullResponse ? 'P.S-Full.AI' : data.provider.toUpperCase()} Response:</strong><br><br>
${formatResponse(data.content)}
<div class="meta">
ü§ñ Provider: ${data.provider} | 
‚öôÔ∏è Model: ${modelInfo} | 
üìä Tokens: ${data.usage?.totalTokens || 'N/A'} | 
‚ö° Speed: ${elapsed}ms${isPSFullResponse ? ' | üåü Method: ' + (data.mergeMethod || 'Combined') : ''}
${isPSFullResponse ? '<br>üíô Emotional Intelligence: Active | üß† Full AI Knowledge: Integrated' : ''}
</div>
</div>`;
                    showStatus(`‚úÖ Response received in ${(elapsed/1000).toFixed(2)}s! ${isPSFullResponse ? '(All AIs collaborated)' : ''}`, 'success');
                    
                    console.log('üìä Response metadata:', {
                        provider: data.provider,
                        model: modelInfo,
                        tokens: data.usage?.totalTokens,
                        time: elapsed + 'ms',
                        emotional: isPSFullResponse
                    });
                } else {
                    let errorMsg = data.error || 'Unknown error';
                    let hint = data.hint || '';
                    
                    responseDiv.innerHTML = `
<div class="response" style="border-color: #ef4444;">
‚ùå <strong>Error:</strong> ${errorMsg}
${hint ? '<br><br>üí° <strong>Suggestion:</strong> ' + hint : ''}
${data.errorType === 'quota_exceeded' ? '<br><br>üîÑ <strong>Try:</strong> Switch to another AI provider above' : ''}
</div>`;
                    
                    if (data.errorType === 'quota_exceeded') {
                        showStatus('‚ö†Ô∏è Quota limit reached - try another AI provider', 'error');
                    } else {
                        showStatus('‚ùå Failed to get response', 'error');
                    }
                    
                    console.error('‚ùå AI Error:', data);
                }
            } catch (error) {
                responseDiv.innerHTML = `
<div class="response" style="border-color: #ef4444;">
‚ùå <strong>Network Error:</strong> ${error.message}<br><br>
üí° <strong>Possible causes:</strong>
<ul style="margin-left: 20px; margin-top: 10px;">
<li>Serverless functions not deployed yet</li>
<li>API keys not configured in Netlify</li>
<li>Network connection issue</li>
</ul>
<br>
<strong>Next steps:</strong>
<ol style="margin-left: 20px; margin-top: 10px;">
<li>Deploy to Netlify: <code>git push origin main</code></li>
<li>Configure API keys in Netlify dashboard</li>
<li>Wait 2-3 minutes for deployment</li>
<li>Try again</li>
</ol>
</div>`;
                showStatus('üîå Connection failed - check console for details', 'error');
                console.error('üí• Network error:', error);
            } finally {
                sendBtn.disabled = false;
                sendBtn.textContent = 'üöÄ Send to AI';
            }
        };

        function formatResponse(text) {
            // Format markdown-style text for better readability
            return text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/`(.*?)`/g, '<code style="background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 4px;">$1</code>')
                .replace(/\n\n/g, '<br><br>')
                .replace(/\n/g, '<br>');
        }

        function showStatus(message, type) {
            statusDiv.innerHTML = `<div class="status ${type}">${message}</div>`;
        }

        // Allow Enter to submit (Shift+Enter for new line)
        promptInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendBtn.click();
            }
        });

        // Show helpful tip
        setTimeout(() => {
            if (!responseDiv.innerHTML) {
                showStatus('üí° Tip: Select "P.S-Full.AI" for the best experience - all AIs working together!', 'info');
            }
        }, 3000);
    </script>
</body>
</html>


